<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      th:replace="~{layout :: layout(~{::title}, 'objects', ~{::content}, ~{::extraHead}, ~{::extraScripts})}">
<head>
    <title>Объекты</title>
    <th:block th:fragment="extraHead"></th:block>
</head>
<body>
<th:block th:fragment="content">
    <section class="card">
        <div class="card-header">
            <h2>Список объектов</h2>
            <a class="button" href="/objects/create">Создать объект</a>
        </div>
        <p class="muted">Отображаются только активные объекты без запросов на удаление.</p>
        <p th:if="${#lists.isEmpty(objects)}">Объекты ещё не созданы.</p>
        <ul class="object-list" th:if="${!#lists.isEmpty(objects)}">
            <li th:each="object : ${objects}">
                <h3><a th:href="@{'/objects/' + ${object.id}}" th:text="${object.name}"></a></h3>
                <p th:text="${object.description}"></p>
                <p class="meta">Заказчик: <strong th:text="${object.customer.name}"></strong></p>
                <span class="meta">Создан: <span
                        th:text="${object.createdAt != null ? #temporals.format(object.createdAt, 'HH:mm dd:MM:yyyy') : '—'}"></span></span>
            </li>
        </ul>
    </section>
</th:block>
<th:block th:fragment="extraScripts"></th:block>
</body>
</html>
